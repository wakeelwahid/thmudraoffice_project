{% extends 'base.html' %}

{% block content %}
<div class="form-container">
    <div class="form-heading">
        <h1>EMI Calculator</h1>
        <p>Calculate your EMI using this simple form</p>
    </div>

    <form id="emiCalculatorForm">
        <div class="form-group">
            <label for="loanAmount">Loan Amount (₹)</label>
            <input type="number" id="loanAmount" required>
        </div>
        <div class="form-group">
            <label for="interestRate">Interest Rate (per year %)</label>
            <input type="number" id="interestRate" required>
        </div>
        <div class="form-group">
            <label for="loanTerm">Loan Term (in months)</label>
            <input type="number" id="loanTerm" required>
        </div>
        <button type="submit" class="btn">Calculate EMI</button>
    </form>

    <div class="result" style="margin-top: 20px; font-weight: bold;">
        <p id="emiResult"></p>
    </div>
</div>

<script>
    document.getElementById('emiCalculatorForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const P = parseFloat(document.getElementById('loanAmount').value);
        const R = parseFloat(document.getElementById('interestRate').value) / 12 / 100;
        const N = parseInt(document.getElementById('loanTerm').value);

        if (isNaN(P) || isNaN(R) || isNaN(N) || P <= 0 || R <= 0 || N <= 0) {
            document.getElementById('emiResult').innerText = "❌ Please enter valid values.";
            return;
        }

        const EMI = (P * R * Math.pow(1 + R, N)) / (Math.pow(1 + R, N) - 1);
        document.getElementById('emiResult').innerText = `✅ Your EMI is ₹${EMI.toFixed(2)} per month.`;
    });
</script>

<script>
    // Mobile menu toggle (keep if you use mobile menu)
    document.querySelector('.mobile-menu-btn')?.addEventListener('click', function() {
        document.querySelector('.nav-menu')?.classList.toggle('active');
    });
</script>
{% endblock %}
